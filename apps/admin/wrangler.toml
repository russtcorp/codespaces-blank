name = "diner-admin"
compatibility_date = "2024-04-05"
pages_build_output_dir = "./build/client"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "russtcorp-db"
database_id = "dc7eca2d-6157-41d1-9841-26969bc20777"

# R2 Storage binding
[[r2_buckets]]
binding = "R2"
bucket_name = "diner-assets"

# R2 binding for audit logs (same bucket, different prefix)
[[r2_buckets]]
binding = "R2_LOGS"
bucket_name = "diner-assets"

# KV namespace for admin sessions
[[kv_namespaces]]
binding = "KV"
id = "fcedd38867f442338ad6ba5a2c1274b2"

# KV namespace for page cache
[[kv_namespaces]]
binding = "PAGE_CACHE"
id = "320fd5e941ef4c23b99ab20cddb3a5e4"

# AI binding (for scraper operations)
[ai]
binding = "AI"

# Admin-specific configuration
[env.production]
vars = { ENVIRONMENT = "production", CLOUDFLARE_ACCESS_ENABLED = "true" }

[env.development]
vars = { ENVIRONMENT = "development", CLOUDFLARE_ACCESS_ENABLED = "false" }
